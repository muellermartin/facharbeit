<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xml:lang="de" xmlns="http://www.w3.org/1999/xhtml" lang="de"><head> 


  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta name="KEYWORDS" content="Beispiel Drehzahlmessung mit RN-Control,Roboter,Robotik,Mikrocontroller,Staubsaugerroboter,Saugroboter,Elektronik,Avr,Arm,Pic,Controller,Schaltplan,Schaltungen,Getriebemotor,Motoren,Schrittmotoren,Sensoren,Sensor,Technik,Grundlagen,Hobby,Wiki,Mega32,Mechanik">
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="http://www.rn-wissen.de/favicon.ico">
    <title>Beispiel Drehzahlmessung mit RN-Control - RN-Wissen</title>
    <style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins/monobook/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/commonPrint.css">
    <!--[if lt IE 5.5000]><style type="text/css">@import "/skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "/skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if gte IE 6]><style type="text/css">@import "/skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/index.js"></script>    <script type="text/javascript" src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/wikibits.js"></script>
    <style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>              </head><body class="ns-0">
    
	

<table class="phpbb2bodyline" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr> <td>
<table class="phpbb2topbkg" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr> <td><a href="http://www.roboternetz.de/phpBB2/index.php"><img src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/phpbb2_logo.jpg" alt="RoboterNetz.de Foren-�bersicht" title="RoboterNetz.de Foren-�bersicht" border="0" height="110" width="240"></a></td>

<td align="right" width="100%"> 

     
<script type="text/javascript"><!--
google_ad_client = "pub-7479754841705808";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
//2007-07-13: RN-Wissen
google_ad_channel = "2264518497";
google_color_border = "ECF0F6";
google_color_bg = "ECF0F6";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//-->
</script>
<script type="text/javascript" src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/show_ads.js">
</script>




</td> </tr> </tbody></table>
<table border="0" cellpadding="2" cellspacing="0" width="100%"> <tbody><tr> <td class="phpbb2topnav" align="center">
&nbsp;<a href="http://www.rn-wissen.de/index.php/Hauptseite">RN-Wissen Home</a>&nbsp; -
&nbsp;<a href="http://www.roboternetz.de/phpBB2/" target="forum">Community Home</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Allpages">Alle Artikel</a>&nbsp;-
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Listusers">Mitglieder</a>&nbsp;-
&nbsp;<a href="http://www.rn-wissen.de/index.php/Moderatoren">Moderatoren</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Imagelist">Bilderliste</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Recentchanges">Letzte Änderungen</a>
<br>
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Categories">Kategorien</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Popularpages">Beliebte Seiten</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Deadendpages">Sackgassenartikel</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Uncategorizedpages">Artikel ohne Kategorie</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Newpages">Neue Artikel</a>&nbsp; -
&nbsp;<a href="http://www.rn-wissen.de/index.php/Spezial:Userlogin">Anmelden</a>
</td> </tr> </tbody></table>   </td>     </tr> </tbody></table>	 
	
	
	<div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="top"></a>
	  	  <h1 class="firstHeading">Beispiel Drehzahlmessung mit RN-Control</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">aus RN-Wissen, der freien Wissensdatenbank</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>Wie einfach man mit einem Drehgeber die Drehzahl messen kann 
zeigt diese Schaltung /dieser Quelltext. Für dieses Beispiel wurde ein 
Drehgeber GP1A030 mit Codescheibe verwendet. Es könnte aber genauso ein 
GP1A038 oder ein ähnlicher Sensor sein. In diesem Demo wird nicht die 
Drehrichtung ausgewertet, obwohl es mit diesen Sensor ebenfalls möglich 
wäre.  
</p><p><br>
</p>
<div class="center"><div class="thumb tnone"><div style="width: 572px;"><a href="http://www.rn-wissen.de/index.php/Bild:Drehgeber_an_rncontrol.gif" class="internal" title="Beispielschaltung wenn man lediglich die Drehzahl ohne Drehrichtung auswerten möchte. Als Widerstand hat sich 330 Ohm als gut erwiesen."><img src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/Drehgeber_an_rncontrol.gif" alt="Beispielschaltung wenn man lediglich die Drehzahl ohne Drehrichtung auswerten möchte. Als Widerstand hat sich 330 Ohm als gut erwiesen." longdesc="/index.php/Bild:Drehgeber_an_rncontrol.gif" height="232" width="570"></a>  <div class="thumbcaption">Beispielschaltung
 wenn man lediglich die Drehzahl ohne Drehrichtung auswerten möchte. Als
 Widerstand hat sich 330 Ohm als gut erwiesen.</div></div></div></div>
<p><br>
</p>
<pre>
'###################################################
'rncontrol_drehzahl.BAS
'für
'RoboterNetz Board RN-CONTROL ab Version 1.1
'Das neue preiswerte Controllerboard zum experimentieren

' Achtung:
' Diese Demo ist mit Bascom Compiler 1.11.7.8 getestet

'
'Aufgabe:
' Dieses Testprogramm demonstriert wie man mit Drehgeber
' die Umdrehungszahl von Motoren anzeigen kann
' Als Drehgeber wird ein Sharp GP1A030 mit Codescheibe
' verwendet (siehe http://www.robotikhardware.de Rubrik Sensoren)
' In diesem Demo wird nicht die Drehrichtung ausgewertet, daher
' wird nur ein Interrupt Port (INT0) an den Sensorausgang (VOA)
' angeschlossen. Zudem noch +5V, GND und +5V wüber 330 Ohm
' Widerstand an Anode des Sensors. Also einfachste Beschaltung.

' Wenn man nun Programm startet wird jede Sekunde die Drehzahl
' ermittelt und alle 3 Sekunden über RS232 auf einem
' Terminalprogramm (oder KN-KeyLCD) ausgegeben.

' Das Programm eigent sich somit zum Messen von Drehzahlen als
' als auch zur Überprüfung der Drehgeberfunktion. Es läßt sich
' sehr einfach zu Wegstrecken Auswertung ausbauen. Statt
' an einem Interrupt könnte man Sensor auch an einen Timereingang
' anschließen, jedoch wird dies hier im Programm nicht berücksichtigt.



'Autor: Frank
'Weitere Beispiele und Beschreibung der Hardware
'unter http://www.Roboternetz.de oder robotikhardware.de
'#######################################################



$regfile = "m32def.dat"
' bei Mega 16 $regfile = "m16def.dat"
$framesize = 32
$swstack = 32
$hwstack = 32

$crystal = 16000000                                         'Quarzfrequenz
$baud = 9600



Config Int0 = Falling

Config Timer1 = Timer, Prescale = 256
Const Timervorgabe = 3036
Const Markierungenproscheibe = 120

Dim Zaehlerirq0 As Long
Dim Impulseprosekunde As Long
Dim Impulseprominute As Long
Dim Umdrehungenprominute As Integer

Print
Print "* RN-CONTROL 1.4 *"
Print "Drehzahl Messung"; ""



Zaehlerirq0 = 0
On Int0 Irq0
Enable Int0

On Timer1 Timer_irq
Enable Timer1

Enable Interrupts


Do
   Print
   Print "Impulse Sek: "; Impulseprosekunde
   Impulseprominute = Impulseprosekunde * 60
   Umdrehungenprominute = Impulseprominute / Markierungenproscheibe
   Print "Umdreh. Min: "; Umdrehungenprominute
   Wait 3
Loop

End




'Pro Impuls (Markierung auf Scheibe) ein Aufruf
Irq0:
 Incr Zaehlerirq0
Return


'Pro Sekunde ein Aufruf
Timer_irq:
  Timer1 = Timervorgabe
  Impulseprosekunde = Zaehlerirq0
  Zaehlerirq0 = 0
  Return

</pre>
<div class="editsection" style="float: right; margin-left: 5px;">[<a href="http://www.rn-wissen.de/index.php?title=Beispiel_Drehzahlmessung_mit_RN-Control&amp;action=edit&amp;section=1" title="Beispiel Drehzahlmessung mit RN-Control">bearbeiten</a>]</div><a name="Siehe_auch"></a><h2>Siehe auch</h2>
<ul><li> <a href="http://www.rn-wissen.de/index.php/RN-Control" title="RN-Control">RN-Control</a>
</li><li> <a href="http://www.rn-wissen.de/index.php/Avr" title="Avr">Avr</a>
</li></ul>

<!-- Saved in parser cache with key d00b0794:pcache:idhash:1387-0!1!0!0!!de!2 and timestamp 20101222115147 -->
<div class="printfooter">
Von "<a href="http://www.rn-wissen.de/index.php/Beispiel_Drehzahlmessung_mit_RN-Control">http://www.rn-wissen.de/index.php/Beispiel_Drehzahlmessung_mit_RN-Control</a>"</div>
	    <div id="catlinks"><p class="catlinks"><a href="http://www.rn-wissen.de/index.php?title=Spezial:Categories&amp;article=Beispiel_Drehzahlmessung_mit_RN-Control" title="Spezial:Categories">Seitenkategorien</a>: <a href="http://www.rn-wissen.de/index.php/Kategorie:Robotikeinstieg" title="Kategorie:Robotikeinstieg">Robotikeinstieg</a> | <a href="http://www.rn-wissen.de/index.php/Kategorie:Microcontroller" title="Kategorie:Microcontroller">Microcontroller</a> | <a href="http://www.rn-wissen.de/index.php/Kategorie:Software" title="Kategorie:Software">Software</a> | <a href="http://www.rn-wissen.de/index.php/Kategorie:Quellcode_Bascom" title="Kategorie:Quellcode Bascom">Quellcode Bascom</a></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main" class="selected"><a title="View the content page [control-c]" accesskey="c" href="http://www.rn-wissen.de/index.php/Beispiel_Drehzahlmessung_mit_RN-Control">Artikel</a></li><li id="ca-talk" class="new"><a title="Discussion about the content page [control-t]" accesskey="t" href="http://www.rn-wissen.de/index.php?title=Diskussion:Beispiel_Drehzahlmessung_mit_RN-Control&amp;action=edit">Diskussion</a></li><li id="ca-edit"><a title="You can edit this page. Please use the preview button before saving. [control-e]" accesskey="e" href="http://www.rn-wissen.de/index.php?title=Beispiel_Drehzahlmessung_mit_RN-Control&amp;action=edit">bearbeiten</a></li><li id="ca-history"><a title="Past versions of this page. [control-h]" accesskey="h" href="http://www.rn-wissen.de/index.php?title=Beispiel_Drehzahlmessung_mit_RN-Control&amp;action=history">Versionen</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-personal">
	  <h5>'Persönliche Werkzeuge</h5>
	  <div class="pBody">
	    <ul>
	    <li id="pt-login"><a title="You are encouraged to log in, it is not mandatory however. [control-o]" accesskey="o" href="http://www.rn-wissen.de/index.php?title=Spezial:Userlogin&amp;returnto=Beispiel_Drehzahlmessung_mit_RN-Control">Anmelden</a></li>	    </ul>
	  </div>
	</div>

	
	
	
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class="portlet" id="p-Hauptthemen">
	  <h5>Hauptthemen</h5>
	  <div class="pBody">
	    <ul>
	    	      <li id="n-Robotikeinstieg"><a href="http://www.rn-wissen.de/index.php/Kategorie:Robotikeinstieg">Robotikeinstieg</a></li>
	     	      <li id="n-Mechanik"><a href="http://www.rn-wissen.de/index.php/Kategorie:Mechanik">Mechanik</a></li>
	     	      <li id="n-Elektronik"><a href="http://www.rn-wissen.de/index.php/Kategorie:Elektronik">Elektronik</a></li>
	     	      <li id="n-Sensoren"><a href="http://www.rn-wissen.de/index.php/Kategorie:Sensoren">Sensoren</a></li>
	     	      <li id="n-Microcontroller"><a href="http://www.rn-wissen.de/index.php/Kategorie:Microcontroller">Microcontroller</a></li>
	     	      <li id="n-Motoren"><a href="http://www.rn-wissen.de/index.php/Kategorie:Motoren">Motoren</a></li>
	     	      <li id="n-Software"><a href="http://www.rn-wissen.de/index.php/Kategorie:Software">Software</a></li>
	     	      <li id="n-Quellcode-Bascom"><a href="http://www.rn-wissen.de/index.php/Kategorie:Quellcode_Bascom">Quellcode Bascom</a></li>
	     	      <li id="n-Quellcode-C"><a href="http://www.rn-wissen.de/index.php/Kategorie:Quellcode_C">Quellcode C</a></li>
	     	      <li id="n-Quellc.Assembler-AVR"><a href="http://www.rn-wissen.de/index.php/Kategorie:Quellcode_Assembler_AVR">Quellc.Assembler AVR</a></li>
	     	      <li id="n-Projekte/Schaltungen"><a href="http://www.rn-wissen.de/index.php/Kategorie:Projekte">Projekte/Schaltungen</a></li>
	     	      <li id="n-Praxis"><a href="http://www.rn-wissen.de/index.php/Kategorie:Praxis">Praxis</a></li>
	     	      <li id="n-Grundlagen"><a href="http://www.rn-wissen.de/index.php/Kategorie:Grundlagen">Grundlagen</a></li>
	     	      <li id="n-Buchvorstellungen"><a href="http://www.rn-wissen.de/index.php/Buchvorstellungen">Buchvorstellungen</a></li>
	     	      <li id="n-Abkürzungen"><a href="http://www.rn-wissen.de/index.php/Kategorie:Abk%C3%BCrzung">Abkürzungen</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class="portlet" id="p-navigation">
	  <h5>Navigation</h5>
	  <div class="pBody">
	    <ul>
	    	      <li id="n-mainpage"><a title="Visit the Main Page [control-z]" accesskey="z" href="http://www.rn-wissen.de/index.php/Hauptseite">Hauptseite</a></li>
	     	      <li id="n-randompage"><a title="Load a random page [control-x]" accesskey="x" href="http://www.rn-wissen.de/index.php/Spezial:Random">Zufälliger Artikel</a></li>
	     	      <li id="n-Testseite-für-Autoren"><a href="http://www.rn-wissen.de/index.php/Testseite">Testseite für Autoren</a></li>
	     	      <li id="n-FAQ"><a href="http://www.rn-wissen.de/index.php/Hilfe:FAQ">FAQ</a></li>
	     	      <li id="n-help"><a title="The place to find out." href="http://www.rn-wissen.de/index.php/RN-Wissen:Hilfe">Hilfe</a></li>
	     	      <li id="n-Neuste-Bilder"><a href="http://www.rn-wissen.de/index.php/Spezial:Newimages">Neuste Bilder</a></li>
	     	      <li id="n-Löschkandidaten"><a href="http://www.rn-wissen.de/index.php/Kategorie:L%C3%B6schkandidat">Löschkandidaten</a></li>
	     	      <li id="n-Wunschthemen"><a href="http://www.rn-wissen.de/index.php/Wunschthemen">Wunschthemen</a></li>
	     	      <li id="n-Aktuelles"><a href="http://www.rn-wissen.de/index.php/Aktuelles">Aktuelles</a></li>
	     	      <li id="n-Unterstützen"><a href="http://www.rn-wissen.de/index.php/RN-Wissen:Site_support">Unterstützen</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Suche</label></h5>
	  <div class="pBody">
	    <form name="searchform" action="/index.php/Spezial:Search" id="searchform">
	      <input id="searchInput" name="search" accesskey="f" type="text">
	      <input name="go" class="searchButton" id="searchGoButton" value="Los" type="submit">&nbsp;<input name="fulltext" class="searchButton" value="Suche" type="submit">
	    </form>
	  </div>
	</div>
	<div class="portlet" id="p-tb">
	  <h5>Werkzeuge</h5>
	  <div class="pBody">
	    <ul>
		  		  <li id="t-whatlinkshere"><a title="List of all wiki pages that link here [control-j]" accesskey="j" href="http://www.rn-wissen.de/index.php/Spezial:Whatlinkshere/Beispiel_Drehzahlmessung_mit_RN-Control">Was zeigt hierhin</a></li>
		  		  <li id="t-recentchangeslinked"><a title="Recent changes in pages linked from this page [control-k]" accesskey="k" href="http://www.rn-wissen.de/index.php/Spezial:Recentchangeslinked/Beispiel_Drehzahlmessung_mit_RN-Control">Verlinkte Seiten</a></li>
		                	      	      	      	      	      	      	      <li id="t-upload"><a title="Upload images or media files [control-u]" accesskey="u" href="http://www.rn-wissen.de/index.php/Spezial:Upload">Hochladen</a></li>	      	      <li id="t-specialpages"><a title="List of all special pages [control-q]" accesskey="q" href="http://www.rn-wissen.de/index.php/Spezial:Specialpages">Spezialseiten</a></li>	      	      	      <li id="t-print"><a href="http://www.rn-wissen.de/index.php?title=Beispiel_Drehzahlmessung_mit_RN-Control&amp;printable=yes">Druckversion</a></li>
      
	  	  
	      	    </ul>
	  </div>
	</div>


<div class="pBody">
<center>	
	
<script type="text/javascript"><!--
google_ad_client = "pub-7479754841705808";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text";
//2007-07-13: RN-Wissen
google_ad_channel = "2264518497";
google_color_border = "ECF0F6";
google_color_bg = "ECF0F6";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//-->
</script>
<script type="text/javascript" src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/show_ads.js">
</script>


</center>	
</div>


	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Beispiel_Drehzahlmessung_mit_RN-Control-Dateien/poweredby_mediawiki_88x31.png" alt="MediaWiki"></a></div>		<ul id="f-list">
	  <li id="f-lastmod"> Diese Seite wurde zuletzt geändert um 12:18, 23. Mai 2006.</li>	  <li id="f-viewcount">Diese Seite wurde bisher 22117 mal abgerufen.</li>	  <br>
	  	  	  	  <li id="f-about"><a href="http://www.rn-wissen.de/index.php/RN-Wissen:%C3%9Cber_RN-Wissen" title="RN-Wissen:Über RN-Wissen">Über RN-Wissen</a></li>	  <li id="f-disclaimer"><a href="http://www.rn-wissen.de/index.php/RN-Wissen:Lizenzbestimmungen" title="RN-Wissen:Lizenzbestimmungen">Lizenzbestimmungen</a></li>	  	</ul>
      </div>
    </div>


    <!-- Served by dd5622 in 0.19 secs. -->  </body></html>